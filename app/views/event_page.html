<div ng-include="'views/partials/setting_accordion.html'"></div>
<div><h1 id="pageType"><a id="pageTypeURL" href="/events">Tapahtuma</a></h1></div> 
<!-- Each page has metadata column on the left and link column on the right -->
<div class="row">
  <!-- Metadata -->
  <div class="col-sm-8">
    <img ng-show="ctrl.isLoadingEvent" src="images/loading.gif" />
    <p ng-if="!ctrl.event && !ctrl.isLoadingEvent">Metadataa ei löytynyt</p>
    <div id="dataContent" ng-if="ctrl.event">
      <h2>
        <span ng-repeat="place in ctrl.event.places">
          <a page-link="place.id">{{ place.label }}</a>{{ $last ? ' ' : ', ' }}
        </span>
        <a page-link="ctrl.event.time_id">{{ ctrl.event.timeSpanString }}</a> - {{ ctrl.event.type }}
      </h2>
      <p>{{ ctrl.event.description }}</p>
      <p><a ng-href="events/?uri={{ ctrl.event.id }}">Näytä aikajanalla</a></p>
      <photo-gallery data-images="ctrl.images"></photo-gallery>
    </div>
  </div>
  <!-- Links -->
  <div class="col-sm-4">
    <h2 id="links-header" class="links-header-class">Linkit</h2>
    <img ng-show="ctrl.isLoadingLinks" src="images/loading.gif" />
    <p ng-if="(!ctrl.event || !ctrl.event.hasLinks) && !ctrl.isLoadingLinks">Linkkejä ei löytynyt</p>
    <div id="linkContent">
      <related-links-paged data-title="'Muita tapahtumia samaan aikaan'" data-paginator="ctrl.relatedEventsByTime"></related-links-paged>
      <related-links-paged data-title="'Muita tapahtumia samalla alueella'" data-paginator="ctrl.relatedEventsByPlace"></related-links-paged>
      <related-links data-title="'Tapahtumaan liittyviä henkilöitä'" data-related="ctrl.event.people"></related-links>
      <related-links data-title="'Tapahtumaan liittyviä joukko-osastoja'" data-related="ctrl.event.units"></related-links>
    </div>
  </div>
</div>
